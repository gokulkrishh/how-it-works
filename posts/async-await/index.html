<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.f2578b68e527a7f23a49.css" id="gatsby-global-css">pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#282a36}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#6272a4}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#ff79c6}.token.boolean,.token.number{color:#bd93f9}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#50fa7b}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#f1fa8c}.token.keyword{color:#8be9fd}.token.important,.token.regex{color:#ffb86c}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.gatsby-highlight.has-highlighted-lines{background-color:#1b1b1b;border-radius:.3em;margin:1em 0;padding:.8em .1em;overflow:auto}.gatsby-highlight.has-highlighted-lines pre[class*=language-]{background-color:transparent;margin:0;padding:0;overflow:initial;float:left;min-width:100%}.gatsby-highlight.has-highlighted-lines .gatsby-highlight-code-line{background-color:#070707;display:block;margin-right:-2px;margin-left:-3em;padding-left:2.7em;border-left:.25em solid #f99}.gatsby-highlight.has-highlighted-lines .gatsby-highlight-code-line:empty{padding-bottom:20px}*{box-sizing:border-box}html{-webkit-tap-highlight-color:rgba(0,0,0,0);text-rendering:optimizelegibility}a,button,h1,h2,h3,h4,h5,h6,html,input,label,li,p,textarea{-webkit-font-smoothing:antialiased}@font-face{font-family:Dank Mono;font-weight:400;font-style:normal;src:url(/static/dm-58f8551f4cf4476d98c50c031538746b.woff) format("woff");font-display:swap}/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}.gatsby-highlight{position:relative;font-variant-ligatures:none}.gatsby-highlight .line-numbers{padding-left:50px!important;padding-bottom:0!important;padding-top:0!important}.gatsby-highlight .line-numbers-rows{padding-left:10px!important}.gatsby-highlight:before{font-size:.75rem;font-family:Menlo,Monaco,Consolas,monospace;letter-spacing:.075em;line-height:1;position:absolute;right:1rem;text-align:right;text-transform:uppercase;top:0;border-radius:0 0 4px 4px;padding:.25rem .5rem;content:attr(data-language);display:inline-block;font-weight:700;background-color:#fff;color:#1b1b1b}[data-language=js]:before{background-color:#ffeb3b;color:#000;z-index:1}.language-text{background:#dcdcdc!important;color:inherit!important;font-weight:600!important;font-family:inherit!important;padding:0 6px!important;display:inline-block;border-radius:3px!important;text-shadow:none!important;font-size:16px!important}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#a7b9f1}code[class*=language-],pre[class*=language-]{font-family:Dank Mono,Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace}:not(pre)>code[class*=language-],pre[class*=language-]{background:#1b1b1b}body.dark-mode .language-text{background-color:#000!important;color:#cfd2d6!important}body{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;color:#323279;background-color:#fff;line-height:32px;font-size:17px;font-weight:400}a{color:#1c56ff;cursor:pointer;text-decoration:none;transition:all .18s cubic-bezier(.55,.025,.455,.98);border-bottom:1px solid;font-weight:500}h2{margin-top:5px;font-size:25px}h3{font-size:21px}h4{font-size:19px;margin-bottom:0}h5{font-size:17px;margin-bottom:10px}b,h3>a{font-weight:600}p{margin-top:10px;margin-bottom:5px}ol,ul{line-height:35px}.header{height:70px;color:#1c56ff;background-color:#f9ed85}.header .header__content-left h1 a{color:#383737}.header__content{max-width:1024px;margin:0 auto;padding:0 15px}.header__content,.header__menu{display:flex;align-items:center;justify-content:space-between;height:inherit}.header__menu{list-style-type:none;margin:0}.header__menu a,.header__menu li{height:inherit;display:flex;align-items:center}.header__menu a{color:#383737;transition:all .2s ease;border-bottom:3px solid transparent;font-weight:500}li .header__menu--active{color:#1c56ff;border-color:#1c56ff;font-weight:600}.header__content-left,.header__content-right{display:flex;height:inherit;align-items:center}.header h1{font-weight:600;font-size:1.8em;margin:0}.header h1 a{border:none;color:#1c56ff}.header a{text-decoration:none}hr{border:0;border-top:2px dashed #ccc;margin-top:30px}.layout .layout__content{margin-top:10px}.issues__preview-info{text-align:center}.footer__content,.layout__content,.layout__title-content{max-width:1024px;padding:20px 15px;margin:0 auto}.layout__title{height:170px;display:flex;align-items:center;background-color:#1c56ff;margin-top:4px}.layout__title .Subscription{margin-top:-18px}.layout__title-content{width:1024px;display:flex}.layout__title h2{font-size:26px;display:inline-block;color:#000}.layout__footer>h4{margin-bottom:0;margin-top:10px}.counter{border-radius:10px;display:flex;align-items:center;border:2px solid #ccc;height:24px;background-color:#fff;color:#000;text-align:center;font-size:14px;margin-left:10px;margin-top:18px;padding:5px;font-weight:500;max-width:32px}.layout__content{margin:0 auto}.layout__content,main{background-color:#fff}footer{height:45px;background-color:#f9ed85}footer,footer .footer__content{display:flex;align-items:center}footer .footer__content{width:1024px;margin:0 auto;height:inherit;font-weight:500;padding:0 10px}footer .footer__content p{font-weight:500;font-size:16px}.mtop-30{margin-top:30px}@media (min-width:768px) and (max-width:1024px){.footer__content,.header__content,.layout__content,.layout__title-content{max-width:768px}}@media (min-width:620px) and (max-width:767px){.footer__content,.header__content,.layout__content,.layout__title-content{max-width:620px}}@media (min-width:300px) and (max-width:480px){.Subscription{max-width:95%}.layout__content .Subscription input{width:95%}.header h1 a{font-size:23px;width:auto;display:flex}.header__menu{padding-left:20px;width:auto;font-size:16px;display:flex;justify-content:flex-end}}body.dark-mode{color:#cfd2d6;background-color:#2d2d2d}body.dark-mode .toggle-theme{fill:#fff}body.dark-mode .layout__content,body.dark-mode main{color:#cfd2d6;background-color:#2d2d2d}body.dark-mode a{color:#3ca4ff}body.dark-mode .header,body.dark-mode footer{background-color:#272727}body.dark-mode .header .header__content-left h1 a,body.dark-mode .header .header__menu a{color:#fff}body.dark-mode .header li .header__menu--active{border-color:#3ca4ff}.Subscription__container .Subscription__content{width:480px;border-radius:8px;background-color:#d5f5ff;color:#000}.Subscription__container .Subscription__confirmation{margin:5px 0;color:#388e3c;visibility:hidden}.Subscription__container h4{margin-bottom:0;color:#383737}.Subscription__container h4+p{margin-bottom:15px;margin-top:5px}.Subscription__container p{margin-top:0;margin-bottom:-10px;font-size:16px}.Subscription__container form{display:flex;justify-content:center;width:inherit;padding:20px}.Subscription__container input,.Subscription__container input[type=submit]{height:48px;padding:0 10px}.Subscription__container input[type=submit]{color:#fff;background-color:#1c56ff;border:1px solid #1c56ff;border-top-right-radius:6px;border-bottom-right-radius:6px;cursor:pointer;width:110px;height:48px;font-size:17px;text-align:center;margin-left:-30px;font-weight:600}.Subscription__container input[type=submit]:active{opacity:.9}.Subscription__container .email-address{width:80%;border-radius:6px;border:2px solid #ccc;outline:none;font-size:16px;padding-right:35px}.Subscription__container .email-address:focus{border-color:#ccc}.Subscription__container span{display:block;font-weight:400;margin-top:5px;color:#383737}@media (min-width:481px) and (max-width:764px){.Subscription__container .Subscription__content{width:430px}}@media (max-width:480px){.Subscription__container .Subscription__content{width:100%}.Subscription__container form{padding:15px 10px}.Subscription__container input,.Subscription__container input[type=submit]{height:40px;padding:0 10px;font-size:14px}.Subscription__container input[type=submit]{width:87px}}body.dark-mode .Subscription__container h4{color:#fff}body.dark-mode .Subscription__container .Subscription__content{background-color:#dcdcdc}.Javascript__list{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr);grid-column-gap:40px;grid-row-gap:25px;padding-left:0;list-style:none}.Card{padding:5px 15px;height:auto;width:330px;background-color:#efefef;border-radius:6px}.Card time{font-size:14px;color:#404040;font-weight:500}.Card p{line-height:1.8;margin-top:0;font-size:16px}.Card a{font-size:21px;border:0;color:#e91e63!important;font-weight:600;border-bottom:1px solid;opacity:.9}.Card a:hover{opacity:1;border-bottom:1px solid}.dark-mode .Card{background-color:#404040}.dark-mode .Card time{color:#a7b9f1}.dark-mode .Card p{color:#fff}@media (min-width:765px) and (max-width:1024px){.Javascript__list{grid-template-columns:repeat(2,1fr);grid-template-rows:repeat(2,1fr)}.Card{width:100%;min-height:180px;height:auto}}@media (min-width:481px) and (max-width:764px){.Javascript__list{grid-template-columns:repeat(1,1fr);grid-template-rows:repeat(1,1fr)}.Card{width:100%;min-height:150px;height:auto}}@media (max-width:480px){.Javascript__list{grid-template-columns:repeat(1,1fr);grid-template-rows:repeat(1,1fr)}.Card{width:100%;min-height:170px;height:auto}}.Javascript__content h2{margin-bottom:10px}.Javascript__content p{margin-top:0;margin-bottom:30px}.Javascript__subscription{margin-top:200px}.issues__preview-back{margin-bottom:20px;display:inline-block;font-weight:600}.issues .tags{padding:0}.issues .tags a{line-height:normal;margin-bottom:0;margin-top:0}.issues .title{margin-bottom:10px}.issues .gatsby-resp-image-wrapper{margin:20px 0 30px}.issues .demo-iframe{width:100%;height:500px;background-color:#fff;margin:10px 0 90px}.issues .demo-iframe iframe{width:inherit;height:inherit;background-color:#fff}.issues .image__illustration{display:block;margin:0 auto;text-align:center;font-weight:500}.issues .video+h4{margin-top:-20px}.issues .video{margin:40px auto;text-align:center;display:block;width:500px;height:auto}.issues blockquote:not(.twitter-tweet){background:#1b1b1b;border-left:10px solid #cec468;margin:10px 10px 15px;padding:.5em 10px;quotes:"\201C" "\201D" "\2018" "\2019";color:#fff;font-style:italic}.issues blockquote:not(.twitter-tweet):before{color:#cec468;content:open-quote;font-size:3em;line-height:.1em;margin-right:2px;vertical-align:-.4em}.issues blockquote:not(.twitter-tweet) p{display:inline}.twitter-tweet.twitter-tweet-rendered{margin:0 auto}.toggle-theme{width:30px;height:30px;margin-left:20px;cursor:pointer;justify-content:center;-webkit-user-select:none;-ms-user-select:none;user-select:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;width:inherit;background-color:transparent;border:none;height:inherit;fill:#000}.Share,.toggle-theme{display:flex;align-items:center}.Share{margin-top:20px;margin-bottom:-10px;justify-content:flex-end}.Share a{margin-left:15px;background-color:#3ca4ff;color:#fff!important;text-decoration:none!important;padding:0 10px;border-radius:2px;height:28px;line-height:28px;font-size:14px;font-weight:700;border:0}.tags li,.tags ul{list-style-type:none;display:inline-block;padding:0;margin-top:0}.tags a{margin-right:8px;padding:5px;border:0;background-color:#efefef;border-radius:6px;color:#e91e63!important;font-size:13px}.tags a:hover{opacity:.8}.tags span{font-size:13px;color:#404040;font-weight:500}.dark-mode .tags a{background-color:#404040}.dark-mode .tags span{color:#a7b9f1}</style><meta name="generator" content="Gatsby 2.29.3"/><title data-react-helmet="true">How it works | Async await</title><meta data-react-helmet="true" name="google-site-verification" content="Q2hqQB0hcs5UvQfKBnWt4FSt2hlvT_Pm00oyu6oMgrE"/><meta data-react-helmet="true" name="description" content="Async await is a new way to write asynchronous code in javascript."/><meta data-react-helmet="true" property="og:title" content="Async await"/><meta data-react-helmet="true" property="og:description" content="Async await is a new way to write asynchronous code in javascript."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:site" content="@gokul_i"/><meta data-react-helmet="true" name="twitter:title" content="Async await"/><meta data-react-helmet="true" name="twitter:description" content="Async await is a new way to write asynchronous code in javascript."/><meta data-react-helmet="true" name="twitter:image" content="https://how-it-works.dev/async-await/twitter-card.jpg"/><link rel="icon" href="/favicon-32x32.png?v=50096918118cf39d01dab0ee058a8c4d" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=50096918118cf39d01dab0ee058a8c4d"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=50096918118cf39d01dab0ee058a8c4d"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=50096918118cf39d01dab0ee058a8c4d"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=50096918118cf39d01dab0ee058a8c4d"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=50096918118cf39d01dab0ee058a8c4d"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=50096918118cf39d01dab0ee058a8c4d"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=50096918118cf39d01dab0ee058a8c4d"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=50096918118cf39d01dab0ee058a8c4d"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="canonical" href="https://www.how-it-works.dev/posts/async-await" data-baseprotocol="https:" data-basehost="www.how-it-works.dev"/><link as="script" rel="preload" href="/webpack-runtime-7b483b9d053ee6bba16f.js"/><link as="script" rel="preload" href="/framework-305b3707783ccc9d7ca6.js"/><link as="script" rel="preload" href="/app-1ffbecb5a4e0735cbcb9.js"/><link as="script" rel="preload" href="/styles-407fe62976dc5310c43e.js"/><link as="script" rel="preload" href="/commons-8bfb2c930370e3962a12.js"/><link as="script" rel="preload" href="/1d724e0a7406e22234be5975e00af039405af158-c232187f10512c6e1717.js"/><link as="script" rel="preload" href="/component---src-templates-issue-template-js-17285f88f6f83b47db76.js"/><link as="fetch" rel="preload" href="/page-data/posts/async-await/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2272393477.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3649515864.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>!function(e,a,o){function d(e){document.body.classList.add(e?"dark-mode":"light-mode"),document.body.classList.remove(e?"light-mode":"dark-mode")}var t=window.matchMedia("(prefers-color-scheme: dark)"),r="(prefers-color-scheme: dark)"===t.media,s=null;try{s=localStorage.getItem("darkMode")}catch(e){}var c=null!==s;if(c&&(s=JSON.parse(s)),c)d(s);else if(r)d(t.matches),localStorage.setItem("darkMode",t.matches);else{var l=document.body.classList.contains("dark-mode");localStorage.setItem("darkMode",JSON.stringify(l))}}();</script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><header class="header"><div class="header__content"><div class="header__content-left"><h1><a href="/">How it works</a></h1></div><div class="header__content-right"><ul class="header__menu"><li><a href="/posts">Posts</a></li></ul><button class="toggle-theme"><svg aria-hidden="true" class="svg-icon" width="24" height="24"><path d="M18.925 4.075c4.1 4.1 4.1 10.75 0 14.85s-10.75 4.1-14.85 0-4.1-10.75 0-14.85 10.75-4.1 14.85 0zM17.51 17.51a8.5 8.5 0 000-12.02L5.49 17.51a8.5 8.5 0 0012.02 0z"></path></svg></button></div></div></header><div class="layout"><main><div class="layout__content"><div class="issues"><div class="issues__preview-info"><h2 class="title">Async await</h2><time>May 12, 2020</time></div><div class="line"></div><div class="issues__preview-content"><p><br /><span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; ">
      <a class="gatsby-resp-image-link" href="/static/e1045a42160231f57fe35fdc13ff99c6/b1f81/async-await.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 53.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4klEQVQoz42TS28SURiG2ZDIVS4DgRmGmQGEgtxs7cI1O6EsqtHGH2NX3ArduichgfAT+Ak2Adbsq9GYLlwotcLjmWkTUJrYN3nmPTMn83yZ5IxtjcjvFfy4hp9LWP7Cypcr+Cr4/A2uvsP1Df/Ler3GZl42T7ZeEjO4EffLJQ+NJTQXl58uaTSbfOg26Jyd0eq0afe69M4bdHtNmu0OTbHfaDR2aDVbnL4/ZT6fW1JL+PHiAtcjB5qsEgxHeByU8Ae8pJQgejSAy+3G4XLgdDtxely3fYfH58Vms9Hv9zdC0x6LxUik05QOD3l+UKJ4sE85X+aF6NKzLLn9HEY2ifE0hbGXuF3nkqSKaUJymPF4vBHOZjOi0ShGIsFeoUyxmKdQKGAk0+hGUgxTUMVAOSrvoCoxvB4vw+Hwb2EkEkHTdRLZPJlMmoQRR1ZUFCGKyrKFoig7qHEVr/ceofnJhmFg6EkKmSfkkro1XVdVDDWOJjomUP9B0zR8Ph+j0WgjnE6nSCEJORJGC4XQTYIh5ICEIogHQkQCQfx+PwGBfwtJkrDb7QwGg41wsVhQq1V5e3LMybtXvH5zTPXoiGqtZvHyrmv3UK/XqVQqTCaTjdA8kKuVyYqV+GvMxjzwW6wfgJk/CPMnsOVKdrYAAAAASUVORK5CYII='); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="async await illustration" title="async await illustration" src="/static/e1045a42160231f57fe35fdc13ff99c6/fcda8/async-await.png" srcset="/static/e1045a42160231f57fe35fdc13ff99c6/12f09/async-await.png 148w,
/static/e1045a42160231f57fe35fdc13ff99c6/e4a3f/async-await.png 295w,
/static/e1045a42160231f57fe35fdc13ff99c6/fcda8/async-await.png 590w,
/static/e1045a42160231f57fe35fdc13ff99c6/efc66/async-await.png 885w,
/static/e1045a42160231f57fe35fdc13ff99c6/c83ae/async-await.png 1180w,
/static/e1045a42160231f57fe35fdc13ff99c6/b1f81/async-await.png 6078w" sizes="(max-width: 590px) 100vw, 590px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy">
  </a>
    </span><br /></p>
<p>Before async await, we used <strong>promises</strong> and <strong>callbacks</strong> to handle the <strong>asynchronous code</strong> in javascript. While working with <strong>promises</strong> and <strong>callbacks</strong> you might have heard a term called <strong>callback hell</strong>. In simple terms, it happens when our code has too many nested <strong>callbacks</strong>.</p>
<p>To solve the callback hell, a new feature was introduced in <strong>ECMAScript 8</strong> (2017) called <code class="language-text">async await</code>. Async await is a new way to write <strong>asynchronous code</strong> in <strong>javascript</strong>.</p>
<p>So what is async await and how does it work?</p>
<h4>1. async</h4>
<p>To create an <code class="language-text">async</code> function, <strong>async</strong> keyword should be added in front of <strong>function</strong> keyword.</p>
<p><strong>Few points to remember:</strong></p>
<ul>
<li>When an <code class="language-text">async</code> function is called, it returns a <strong>promise</strong>. If the returned value is not a promise, then <code class="language-text">async</code> will <strong>wrap it in promise</strong> and <strong>return it</strong>.</li>
<li><strong>Throwing an exception</strong> in async function is equal to <strong>rejecting</strong> a promise.</li>
</ul>
<p><strong>Example</strong>:</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="js"><pre style="counter-reset: linenumber 0" class="language-js line-numbers"><code class="language-js"><span class="gatsby-highlight-code-line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token parameter">say</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>  <span class="token keyword">return</span> <span class="token string">"hello"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// To handle success &amp; failure</span>
<span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="gatsby-highlight-code-line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span> <span class="token comment">// success</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// failure</span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h4>2. await</h4>
<p><code class="language-text">await</code> keyword can only be used inside <code class="language-text">async</code> function, except for the <a href="https://v8.dev/features/top-level-await">top-level await</a>.</p>
<p><strong>Few points to remember:</strong></p>
<ul>
<li><code class="language-text">await</code> keyword allow us to wait <strong>synchronously</strong> on an <strong>asynchronous code</strong>.</li>
<li>Can be used with <strong>try/catch</strong> statement to handle success and failure.</li>
<li><strong>Less boilerplate</strong> code compared to promise with callbacks.</li>
</ul>
<p><strong>Example</strong>:</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="js"><pre style="counter-reset: linenumber 0" class="language-js line-numbers"><code class="language-js"><span class="gatsby-highlight-code-line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchPokemon</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>  <span class="token keyword">try</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    <span class="token keyword">const</span> pokemon1 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">"https://pokeapi.co/api/v2/pokemon/1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    <span class="token keyword">const</span> pokemon2 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">"https://pokeapi.co/api/v2/pokemon/2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="gatsby-highlight-code-line">    <span class="token keyword">const</span> response1 <span class="token operator">=</span> <span class="token keyword">await</span> pokemon1<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    <span class="token keyword">const</span> response2 <span class="token operator">=</span> <span class="token keyword">await</span> pokemon2<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response1<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> response2<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span></span><span class="token punctuation">}</span>

<span class="token function">fetchPokemon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs "bulbasaur ivysaur"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Async await works as if the code were <strong>synchronous</strong>, but <strong>without blocking</strong> the main thread. Read my previous post to understand more about main thread and <a href="/posts/event-loop">event loop</a>.</p>
<p>Let's see the same example using promise based <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">fetch</a> API.</p>
<p><strong>Example</strong>:</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="js"><pre style="counter-reset: linenumber 0" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">fetchPokemon</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">"https://pokeapi.co/api/v2/pokemon/1"</span><span class="token punctuation">)</span>
<span class="gatsby-highlight-code-line">    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response1</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">      <span class="token keyword">return</span> response1<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response1</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">        <span class="token keyword">return</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">"https://pokeapi.co/api/v2/pokemon/2"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response2</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">          <span class="token keyword">return</span> response2</span><span class="gatsby-highlight-code-line">            <span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="gatsby-highlight-code-line">            <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response2</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response1<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> response2<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">            <span class="token punctuation">}</span><span class="token punctuation">)</span></span><span class="gatsby-highlight-code-line">            <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="gatsby-highlight-code-line">    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">}</span>

<span class="token comment">// Fetch pokemon</span>
<span class="token function">fetchPokemon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs "bulbasaur ivysaur"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>The above code works as expected but it is <strong>hard to debug</strong> and becomes a <strong>non-maintainable code</strong> if we want to modify or extend the function.</p>
<p><strong>Below gif explains async await in 7 seconds</strong>:</p>
<blockquote class="twitter-tweet" data-dnt="true"><p lang="en" dir="ltr">understanding async/await in 7 seconds <a href="https://t.co/IJOQJ2DR35">pic.twitter.com/IJOQJ2DR35</a></p>&mdash; wassim.dev (@manekinekko) <a href="https://twitter.com/manekinekko/status/855824609299636230?ref_src=twsrc%5Etfw">April 22, 2017</a></blockquote>

<p>Some <strong>disadvantages</strong> of async await.</p>
<p><strong>Disadvantages</strong>:</p>
<ul>
<li>We cannot do <strong>multiple await</strong> in the same line. There is no way to run <strong>multiple async</strong> operations <strong>simultaneously</strong>. But the same can be done in normal promises using <code class="language-text">promise.all()</code>.</li>
<li>If we are supporting old browsers then <a href="https://babeljs.io/">babel</a> will transpile and <strong>bloat</strong> the <a href="https://babeljs.io/repl#?browsers=&#x26;build=&#x26;builtIns=false&#x26;spec=false&#x26;loose=false&#x26;code_lz=IYZwngdgxgBAZgV2gFwJYHsLwKbKgCwAV0BrbAW0wAoBKGAbwCgYZkAnMB5lmKTEZDAAOpCphgBeGMADuwVILi4CVAET5kyISABcAej0iywIagB0fPSdR6AbgCZDoyhD0BGVTQDc3Fnwgg6AA22GZB6ADmVLLygkZiEGYAVoEQtN7cAL68wHj4MFTYbGzobHRMPLz8waHhUUUlZT4smYytjEp5xGQutF4wBjB1IDCqAEYIQWOgwAhsqoxAA&#x26;debug=false&#x26;forceAllTransforms=false&#x26;shippedProposals=true&#x26;circleciRepo=&#x26;evaluate=true&#x26;fileSize=true&#x26;timeTravel=false&#x26;sourceType=script&#x26;lineWrap=true&#x26;presets=env%2Cenv&#x26;prettier=true&#x26;targets=&#x26;version=7.9.6&#x26;externalPlugins=">code</a>.</li>
</ul>
<p><strong>Fun fact:</strong></p>
<blockquote> Async await is a syntactic sugar built on top of promises.</blockquote>
<p>If you know javascript well then you might have already guessed that <code class="language-text">await</code> calls <code class="language-text">then()</code> method under the hood. Now you know why <strong>await only works with async</strong> functions.</p>
<p><strong>Example:</strong></p>
<div class="gatsby-highlight has-highlighted-lines" data-language="js"><pre style="counter-reset: linenumber 0" class="language-js line-numbers"><code class="language-js"><span class="token keyword">var</span> <span class="token function-variable function">customThenFunz</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    <span class="token function-variable function">then</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// resolve &amp; reject are promise callback's</span></span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token function">customThenFunz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs "hello"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>In the above example, await calls the <code class="language-text">then()</code> method returned by the <strong>customThenFunz</strong> function. One more point to remember is <code class="language-text">async await</code> uses <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function*">generators</a> internally to <strong>pause</strong> and <strong>resume</strong> execution of the code.</p>
<p>Now we will write the above example using <strong>generators &#x26; promises</strong> to help us to understand how async await would be been implemented internally.</p>
<p>Before I proceed with implementation, let's try to understand the basics of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function*">generators</a>.</p>
<ul>
<li>To create a generator function, <code class="language-text">function</code> keyword should have a <code class="language-text">*</code> (asterisk symbol) following it.</li>
<li>A generator function returns a <strong>generator object</strong>.</li>
<li>A generator object follows the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols">iterable protocol</a>.</li>
<li><code class="language-text">yield</code> keyword is used to <strong>pause</strong> and <strong>un-pause</strong> the code.</li>
<li><code class="language-text">next()</code> method in a way to tell to go to <strong>next iteration</strong>.</li>
<li>Upon calling <code class="language-text">next()</code> method, it returns a object with <code class="language-text">value</code> and status called <code class="language-text">done</code> (true or false).</li>
<li><code class="language-text">throw()</code> method in generator object <strong>resumes execution</strong> by <strong>throwing an error</strong> and returns an object with <code class="language-text">value</code> and <code class="language-text">done</code>.</li>
</ul>
<p><strong>Example:</strong></p>
<p>A simple counter function to return the count until maxCount is reached.</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="js"><pre style="counter-reset: linenumber 0" class="language-js line-numbers"><code class="language-js"><span class="gatsby-highlight-code-line"><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">counter</span><span class="token punctuation">(</span><span class="token parameter">maxCount</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>  <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> maxCount<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    <span class="token keyword">yield</span> i<span class="token operator">++</span><span class="token punctuation">;</span></span>  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> iterator <span class="token operator">=</span> <span class="token function">counter</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="gatsby-highlight-code-line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs {value: 1, done: false}</span></span><span class="gatsby-highlight-code-line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs {value: 2, done: false}</span></span><span class="gatsby-highlight-code-line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs {value: undefined, done: true}</span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Now we understood how generator function in javascript works, lets write our custom async await function.</p>
<p><strong>To emulate async await we need to do the following:</strong></p>
<ul>
<li>Should be able to <strong>synchronously</strong> wait <strong>without blocking</strong> the main thread.</li>
<li>Should be able to <strong>halt</strong> and <strong>resume</strong> the execution.</li>
<li>Should be able to <strong>return the value</strong> once done. (Eg: fetch api or just a number or promise based object)</li>
<li>Should <strong>throw an error</strong> If it <strong>fails</strong>.</li>
</ul>
<p>We will name our custom function as <code class="language-text">customAsyncAwait</code>. Input for <code class="language-text">customAsyncAwait</code> function will be a <strong>generator</strong> function. Inside our customAsyncAwait function, we will create a <strong>generator object</strong> by calling the <strong>input</strong> when the <strong>customAsyncAwait</strong> function is invoked. A function called <code class="language-text">resolver()</code> is used to handle <strong>iteration</strong> of the generator function which will be called <strong>recursively</strong> by passing the <strong>iterator object</strong> as an <strong>input</strong>. If the iteration is <strong>done</strong>, then <strong>resolve</strong> and <strong>return</strong> the value. If it <strong>fails</strong> throw an error which in turn <strong>resolves</strong> and <strong>return</strong> the error.</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="js"><pre style="counter-reset: linenumber 0" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">customAsyncAwait</span><span class="token punctuation">(</span><span class="token parameter">generatorFunz</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// create generator object</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> generatorObj <span class="token operator">=</span> <span class="token function">generatorFunz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
  <span class="token keyword">function</span> <span class="token function">resolver</span><span class="token punctuation">(</span><span class="token parameter">currentIteration</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// If the iterator object is done then return the value</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>currentIteration<span class="token punctuation">.</span>done<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">      <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>currentIteration<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span></span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">      <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>currentIteration<span class="token punctuation">.</span>value<span class="token punctuation">)</span></span><span class="gatsby-highlight-code-line">        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=></span> <span class="token function">resolver</span><span class="token punctuation">(</span>generatorObj<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// proceed with next iteration in generator</span></span><span class="gatsby-highlight-code-line">        <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token function">resolver</span><span class="token punctuation">(</span>generatorObj<span class="token punctuation">.</span><span class="token function">throw</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// throw an error</span></span>    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

<span class="gatsby-highlight-code-line">  <span class="token keyword">return</span> <span class="token function">resolver</span><span class="token punctuation">(</span>generatorObj<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Start the iteration</span></span><span class="token punctuation">}</span>

<span class="token comment">// Fetch based generator</span>
<span class="gatsby-highlight-code-line"><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">fetchPokemonGenerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>  <span class="token keyword">try</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    <span class="token keyword">const</span> pokemon1 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">"https://pokeapi.co/api/v2/pokemon/1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    <span class="token keyword">const</span> pokemon2 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">"https://pokeapi.co/api/v2/pokemon/2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="gatsby-highlight-code-line">    <span class="token keyword">const</span> response1 <span class="token operator">=</span> <span class="token keyword">yield</span> pokemon1<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    <span class="token keyword">const</span> response2 <span class="token operator">=</span> <span class="token keyword">yield</span> pokemon2<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response1<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> response2<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span></span><span class="token punctuation">}</span>

<span class="token comment">// Call our custom async function</span>
<span class="token function">customAsyncAwait</span><span class="token punctuation">(</span>fetchPokemonGenerator<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs "bulbasaur ivysaur"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3><a href="https://codesandbox.io/embed/custom-async-await-using-generators-ugl7z?expanddevtools=1&#x26;fontsize=14&#x26;hidenavigation=1&#x26;module=%2Fsrc%2Findex.js&#x26;theme=dark">Demo</a></h3>
<iframe
  src="https://codesandbox.io/embed/custom-async-await-using-generators-ugl7z?expanddevtools=1&fontsize=14&hidenavigation=1&module=%2Fsrc%2Findex.js&theme=dark"
  style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;"
  title="custom async await using generators"
  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr"
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
></iframe>
<h4>Final thoughts</h4>
<p>Async await is an interesting topic and powerful feature in javascript. It helps us to write the <strong>asynchronous code</strong> more <strong>readable</strong> and <strong>maintainable</strong>. I hope in this post you have learned a little bit more about javascript. The custom async await function I wrote might not be how async await would have been implemented but you get the idea right how it works?.</p>
<p>Post a comment below if you have any questions. If you like the post share it.</p>
<p>Thanks for reading till the end :)</p>
<p>Follow me on <a href="https://twitter.com/gokul_i">twitter</a> for more web related things.</p>
<h4>References:</h4>
<ul>
<li><a href="https://tc39.es/ecma262/#sec-async-function-definitions">async await specification</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Asynchronous/Async_await">async await</a></li>
</ul></div><hr/><ul class="tags">Tags:<!-- --> <li><a class="issues__preview-back" href="/posts/async-await/tags/javascript">javascript</a><a class="issues__preview-back" href="/posts/async-await/tags/es-8">es8</a></li></ul><div class="Subscription__container"><h4>Know more from your inbox (Tuesday)</h4><p>I promise there won&#x27;t be any spamming!</p><div class="Subscription__content"><form action="https://buttondown.email/api/emails/embed-subscribe/gokulkrishh" method="post" target="popupwindow" class="embeddable-buttondown-form" autoComplete="on"><input type="email" id="bd-email" class="email-address" placeholder="Email address" required="" name="email"/><input type="hidden" value="1" name="embed"/><input type="submit" class="submit-btn" id="mc-embedded-subscribe" value="Subscribe"/></form></div><p class="Subscription__confirmation">Thanks for subscribing! Your subscription is confirmed.</p></div><div id="disqus_thread"></div></div></div></main></div><footer><div class="footer__content"><p>© <!-- -->2021<!-- -->, Built with <!-- --> <a href="https://www.gatsbyjs.org">Gatsby</a></p></div></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-158930416-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/async-await";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-dfda8d059abd9d0298c4.js"],"app":["/app-1ffbecb5a4e0735cbcb9.js"],"component---src-pages-404-js":["/component---src-pages-404-js-4f51c2bb7115200ee110.js"],"component---src-pages-index-js":["/component---src-pages-index-js-984fa96200e4d18656ca.js"],"component---src-pages-posts-js":["/component---src-pages-posts-js-7a6cbe94e7e27ece7126.js"],"component---src-pages-tags-js":["/component---src-pages-tags-js-65bcdd98732ed8d3b67a.js"],"component---src-templates-issue-template-js":["/component---src-templates-issue-template-js-17285f88f6f83b47db76.js"],"component---src-templates-tag-template-js":["/component---src-templates-tag-template-js-f4d8efb6b63417436be1.js"]};/*]]>*/</script><script src="/polyfill-dfda8d059abd9d0298c4.js" nomodule=""></script><script src="/component---src-templates-issue-template-js-17285f88f6f83b47db76.js" async=""></script><script src="/1d724e0a7406e22234be5975e00af039405af158-c232187f10512c6e1717.js" async=""></script><script src="/commons-8bfb2c930370e3962a12.js" async=""></script><script src="/styles-407fe62976dc5310c43e.js" async=""></script><script src="/app-1ffbecb5a4e0735cbcb9.js" async=""></script><script src="/framework-305b3707783ccc9d7ca6.js" async=""></script><script src="/webpack-runtime-7b483b9d053ee6bba16f.js" async=""></script></body></html>