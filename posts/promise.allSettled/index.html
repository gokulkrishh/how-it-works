<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.1d790e02c26179e95350.css">pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#282a36}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#6272a4}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#ff79c6}.token.boolean,.token.number{color:#bd93f9}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#50fa7b}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#f1fa8c}.token.keyword{color:#8be9fd}.token.important,.token.regex{color:#ffb86c}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.gatsby-highlight.has-highlighted-lines{background-color:#1b1b1b;border-radius:.3em;margin:1em 0;padding:.8em .1em;overflow:auto}.gatsby-highlight.has-highlighted-lines pre[class*=language-]{background-color:transparent;margin:0;padding:0;overflow:initial;float:left;min-width:100%}.gatsby-highlight.has-highlighted-lines .gatsby-highlight-code-line{background-color:#070707;display:block;margin-right:-2px;margin-left:-3em;padding-left:2.7em;border-left:.25em solid #f99}.gatsby-highlight.has-highlighted-lines .gatsby-highlight-code-line:empty{padding-bottom:20px}*{box-sizing:border-box}html{-webkit-tap-highlight-color:rgba(0,0,0,0);text-rendering:optimizelegibility}a,button,h1,h2,h3,h4,h5,h6,html,input,label,li,p,textarea{-webkit-font-smoothing:antialiased}@font-face{font-family:Dank Mono;font-weight:400;font-style:normal;src:url(/static/dm-58f8551f4cf4476d98c50c031538746b.woff) format("woff");font-display:swap}/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}.gatsby-highlight{position:relative;font-variant-ligatures:none}.gatsby-highlight .line-numbers{padding-left:50px!important;padding-bottom:0!important;padding-top:0!important}.gatsby-highlight .line-numbers-rows{padding-left:10px!important}.gatsby-highlight:before{font-size:.75rem;font-family:Menlo,Monaco,Consolas,monospace;letter-spacing:.075em;line-height:1;position:absolute;right:1rem;text-align:right;text-transform:uppercase;top:0;border-radius:0 0 4px 4px;padding:.25rem .5rem;content:attr(data-language);display:inline-block;font-weight:700;background-color:#fff;color:#1b1b1b}[data-language=js]:before{background-color:#ffeb3b;color:#000;z-index:1}.language-text{background:#dcdcdc!important;color:inherit!important;font-weight:600!important;font-family:inherit!important;padding:0 6px!important;display:inline-block;border-radius:3px!important;text-shadow:none!important;font-size:16px!important}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#a7b9f1}code[class*=language-],pre[class*=language-]{font-family:Dank Mono,Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace}:not(pre)>code[class*=language-],pre[class*=language-]{background:#1b1b1b}body.dark-mode .language-text{background-color:#000!important;color:#cfd2d6!important}body{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;color:#323279;background-color:#fff;line-height:32px;font-size:17px;font-weight:400}a{color:#1c56ff;cursor:pointer;text-decoration:none;transition:all .18s cubic-bezier(.55,.025,.455,.98);border-bottom:1px solid;font-weight:500}h2{margin-top:5px;font-size:25px}h3{font-size:21px}h4{font-size:19px;margin-bottom:0}h5{font-size:17px;margin-bottom:10px}b,h3>a{font-weight:600}p{margin-top:10px;margin-bottom:5px}ol,ul{line-height:35px}.header{height:70px;color:#1c56ff;background-color:#f9ed85}.header .header__content-left h1 a{color:#383737}.header__content{max-width:1024px;margin:0 auto;padding:0 15px}.header__content,.header__menu{display:flex;align-items:center;justify-content:space-between;height:inherit}.header__menu{list-style-type:none;margin:0}.header__menu a,.header__menu li{height:inherit;display:flex;align-items:center}.header__menu a{color:#383737;transition:all .2s ease;border-bottom:3px solid transparent;font-weight:500}li .header__menu--active{color:#1c56ff;border-color:#1c56ff;font-weight:600}.header__content-left,.header__content-right{display:flex;height:inherit;align-items:center}.header h1{font-weight:600;font-size:1.8em;margin:0}.header h1 a{border:none;color:#1c56ff}.header a{text-decoration:none}hr{border:0;border-top:2px dashed #ccc;margin-top:30px}.layout .layout__content{margin-top:10px}.issues__preview-info{text-align:center}.footer__content,.layout__content,.layout__title-content{max-width:1024px;padding:20px 15px;margin:0 auto}.layout__title{height:170px;display:flex;align-items:center;background-color:#1c56ff;margin-top:4px}.layout__title .Subscription{margin-top:-18px}.layout__title-content{width:1024px;display:flex}.layout__title h2{font-size:26px;display:inline-block;color:#000}.layout__footer>h4{margin-bottom:0;margin-top:10px}.counter{border-radius:10px;display:flex;align-items:center;border:2px solid #ccc;height:24px;background-color:#fff;color:#000;text-align:center;font-size:14px;margin-left:10px;margin-top:18px;padding:5px;font-weight:500;max-width:32px}.layout__content{margin:0 auto}.layout__content,main{background-color:#fff}footer{height:45px;background-color:#f9ed85}footer,footer .footer__content{display:flex;align-items:center}footer .footer__content{width:1024px;margin:0 auto;height:inherit;font-weight:500;padding:0 10px}footer .footer__content p{font-weight:500;font-size:16px}.mtop-30{margin-top:30px}@media (min-width:768px) and (max-width:1024px){.footer__content,.header__content,.layout__content,.layout__title-content{max-width:768px}}@media (min-width:620px) and (max-width:767px){.footer__content,.header__content,.layout__content,.layout__title-content{max-width:620px}}@media (min-width:300px) and (max-width:480px){.Subscription{max-width:95%}.layout__content .Subscription input{width:95%}.header h1 a{font-size:23px;width:auto;display:flex}.header__menu{padding-left:20px;width:auto;font-size:16px;display:flex;justify-content:flex-end}}body.dark-mode{color:#cfd2d6;background-color:#2d2d2d}body.dark-mode .toggle-theme{fill:#fff}body.dark-mode .layout__content,body.dark-mode main{color:#cfd2d6;background-color:#2d2d2d}body.dark-mode a{color:#3ca4ff}body.dark-mode .header,body.dark-mode footer{background-color:#272727}body.dark-mode .header .header__content-left h1 a,body.dark-mode .header .header__menu a{color:#fff}body.dark-mode .header li .header__menu--active{border-color:#3ca4ff}.Subscription__container .Subscription__content{width:480px;border-radius:8px;background-color:#d5f5ff;color:#000}.Subscription__container .Subscription__confirmation{margin:5px 0;color:#388e3c;visibility:hidden}.Subscription__container h4{margin-bottom:0;color:#383737}.Subscription__container h4+p{margin-bottom:15px;margin-top:5px}.Subscription__container p{margin-top:0;margin-bottom:-10px;font-size:16px}.Subscription__container form{display:flex;justify-content:center;width:inherit;padding:20px}.Subscription__container input,.Subscription__container input[type=submit]{height:48px;padding:0 10px}.Subscription__container input[type=submit]{color:#fff;background-color:#1c56ff;border:1px solid #1c56ff;border-top-right-radius:6px;border-bottom-right-radius:6px;cursor:pointer;width:110px;height:48px;font-size:17px;text-align:center;margin-left:-30px;font-weight:600}.Subscription__container input[type=submit]:active{opacity:.9}.Subscription__container .email-address{width:80%;border-radius:6px;border:2px solid #ccc;outline:none;font-size:16px;padding-right:35px}.Subscription__container .email-address:focus{border-color:#ccc}.Subscription__container span{display:block;font-weight:400;margin-top:5px;color:#383737}@media (min-width:481px) and (max-width:764px){.Subscription__container .Subscription__content{width:430px}}@media (max-width:480px){.Subscription__container .Subscription__content{width:100%}.Subscription__container form{padding:15px 10px}.Subscription__container input,.Subscription__container input[type=submit]{height:40px;padding:0 10px;font-size:14px}.Subscription__container input[type=submit]{width:87px}}body.dark-mode .Subscription__container h4{color:#fff}body.dark-mode .Subscription__container .Subscription__content{background-color:#dcdcdc}.Javascript__list{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr);grid-column-gap:40px;grid-row-gap:25px;padding-left:0;list-style:none}.Card{padding:5px 15px;height:auto;width:330px;background-color:#efefef;border-radius:6px}.Card time{font-size:14px;color:#404040;font-weight:500}.Card p{line-height:1.8;margin-top:0;font-size:16px}.Card a{font-size:21px;border:0;color:#e91e63!important;font-weight:600;border-bottom:1px solid;opacity:.9}.Card a:hover{opacity:1;border-bottom:1px solid}.dark-mode .Card{background-color:#404040}.dark-mode .Card time{color:#a7b9f1}.dark-mode .Card p{color:#fff}@media (min-width:765px) and (max-width:1024px){.Javascript__list{grid-template-columns:repeat(2,1fr);grid-template-rows:repeat(2,1fr)}.Card{width:100%;min-height:180px;height:auto}}@media (min-width:481px) and (max-width:764px){.Javascript__list{grid-template-columns:repeat(1,1fr);grid-template-rows:repeat(1,1fr)}.Card{width:100%;min-height:150px;height:auto}}@media (max-width:480px){.Javascript__list{grid-template-columns:repeat(1,1fr);grid-template-rows:repeat(1,1fr)}.Card{width:100%;min-height:170px;height:auto}}.Javascript__content h2{margin-bottom:10px}.Javascript__content p{margin-top:0;margin-bottom:30px}.Javascript__subscription{margin-top:200px}.issues__preview-back{margin-bottom:20px;display:inline-block;font-weight:600}.issues .tags{padding:0}.issues .tags a{line-height:normal;margin-bottom:0;margin-top:0}.issues .title{margin-bottom:10px}.issues .gatsby-resp-image-wrapper{margin:20px 0 30px}.issues .demo-iframe{width:100%;height:500px;background-color:#fff;margin:10px 0 90px}.issues .demo-iframe iframe{width:inherit;height:inherit;background-color:#fff}.issues .image__illustration{display:block;margin:0 auto;text-align:center;font-weight:500}.issues .video+h4{margin-top:-20px}.issues .video{margin:40px auto;text-align:center;display:block;width:500px;height:auto}.issues blockquote:not(.twitter-tweet){background:#1b1b1b;border-left:10px solid #cec468;margin:10px 10px 15px;padding:.5em 10px;quotes:"\201C" "\201D" "\2018" "\2019";color:#fff;font-style:italic}.issues blockquote:not(.twitter-tweet):before{color:#cec468;content:open-quote;font-size:3em;line-height:.1em;margin-right:2px;vertical-align:-.4em}.issues blockquote:not(.twitter-tweet) p{display:inline}.twitter-tweet.twitter-tweet-rendered{margin:0 auto}.toggle-theme{width:30px;height:30px;margin-left:20px;cursor:pointer;justify-content:center;-webkit-user-select:none;-ms-user-select:none;user-select:none;-webkit-appearance:none;appearance:none;width:inherit;background-color:transparent;border:none;height:inherit;fill:#000}.Share,.toggle-theme{display:flex;align-items:center}.Share{margin-top:20px;margin-bottom:-10px;justify-content:flex-end}.Share a{margin-left:15px;background-color:#3ca4ff;color:#fff!important;text-decoration:none!important;padding:0 10px;border-radius:2px;height:28px;line-height:28px;font-size:14px;font-weight:700;border:0}.tags li,.tags ul{list-style-type:none;display:inline-block;padding:0;margin-top:0}.tags a{margin-right:8px;padding:5px;border:0;background-color:#efefef;border-radius:6px;color:#e91e63!important;font-size:13px}.tags a:hover{opacity:.8}.tags span{font-size:13px;color:#404040;font-weight:500}.dark-mode .tags a{background-color:#404040}.dark-mode .tags span{color:#a7b9f1}</style><meta name="generator" content="Gatsby 2.25.3"/><title data-react-helmet="true">How it works | Promise.allSettled</title><meta data-react-helmet="true" name="google-site-verification" content="Q2hqQB0hcs5UvQfKBnWt4FSt2hlvT_Pm00oyu6oMgrE"/><meta data-react-helmet="true" name="description" content="Promise.allSettled returns a promise when all inputs are settled that is either fulfilled or rejected."/><meta data-react-helmet="true" property="og:title" content="Promise.allSettled"/><meta data-react-helmet="true" property="og:description" content="Promise.allSettled returns a promise when all inputs are settled that is either fulfilled or rejected."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:site" content="@gokul_i"/><meta data-react-helmet="true" name="twitter:title" content="Promise.allSettled"/><meta data-react-helmet="true" name="twitter:description" content="Promise.allSettled returns a promise when all inputs are settled that is either fulfilled or rejected."/><meta data-react-helmet="true" name="twitter:image" content="https://how-it-works.dev/promise.allsettled/twitter-card.jpg"/><link rel="icon" href="/favicon-32x32.png?v=50096918118cf39d01dab0ee058a8c4d" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=50096918118cf39d01dab0ee058a8c4d"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=50096918118cf39d01dab0ee058a8c4d"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=50096918118cf39d01dab0ee058a8c4d"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=50096918118cf39d01dab0ee058a8c4d"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=50096918118cf39d01dab0ee058a8c4d"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=50096918118cf39d01dab0ee058a8c4d"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=50096918118cf39d01dab0ee058a8c4d"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=50096918118cf39d01dab0ee058a8c4d"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="canonical" href="https://www.how-it-works.dev/posts/promise.allSettled" data-baseprotocol="https:" data-basehost="www.how-it-works.dev"/><link as="script" rel="preload" href="/webpack-runtime-faf1af34c5cb787f9801.js"/><link as="script" rel="preload" href="/framework-1bcdbcdd30f43763a25c.js"/><link as="script" rel="preload" href="/app-686bd6d163b6f77d2d30.js"/><link as="script" rel="preload" href="/styles-407fe62976dc5310c43e.js"/><link as="script" rel="preload" href="/commons-4efa53057ce3c57301d6.js"/><link as="script" rel="preload" href="/1d724e0a7406e22234be5975e00af039405af158-c232187f10512c6e1717.js"/><link as="script" rel="preload" href="/component---src-templates-issue-template-js-28330482fef030608c15.js"/><link as="fetch" rel="preload" href="/page-data/posts/promise.allSettled/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2272393477.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3649515864.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>!function(e,a,o){function d(e){document.body.classList.add(e?"dark-mode":"light-mode"),document.body.classList.remove(e?"light-mode":"dark-mode")}var t=window.matchMedia("(prefers-color-scheme: dark)"),r="(prefers-color-scheme: dark)"===t.media,s=null;try{s=localStorage.getItem("darkMode")}catch(e){}var c=null!==s;if(c&&(s=JSON.parse(s)),c)d(s);else if(r)d(t.matches),localStorage.setItem("darkMode",t.matches);else{var l=document.body.classList.contains("dark-mode");localStorage.setItem("darkMode",JSON.stringify(l))}}();</script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><header class="header"><div class="header__content"><div class="header__content-left"><h1><a href="/">How it works</a></h1></div><div class="header__content-right"><ul class="header__menu"><li><a href="/posts">Posts</a></li></ul><button class="toggle-theme"><svg aria-hidden="true" class="svg-icon" width="24" height="24"><path d="M18.925 4.075c4.1 4.1 4.1 10.75 0 14.85s-10.75 4.1-14.85 0-4.1-10.75 0-14.85 10.75-4.1 14.85 0zM17.51 17.51a8.5 8.5 0 000-12.02L5.49 17.51a8.5 8.5 0 0012.02 0z"></path></svg></button></div></div></header><div class="layout"><main><div class="layout__content"><div class="issues"><div class="issues__preview-info"><h2 class="title">Promise.allSettled</h2><time>March 17, 2020</time></div><div class="line"></div><div class="issues__preview-content"><p><br /><span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; ">
      <a class="gatsby-resp-image-link" href="/static/6ac014fb2b0ce3b89ad7838c7d04512a/cea38/promise.allsettled.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 64.86486486486486%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACG0lEQVQ4y3WTyW4TQRCG/SYg4nhmPD377tniGAHBuQc52zvAMQixJAYuBCmynwKJRyJwCRJOXsBS/1T12Mgo9uFXVXV3fVVdM916/vXXfO/y53x49Xu+P72bDye3ZBda9deoOXuncpnBrBY5oAXUr74jHr1FevoZyfEYycnHhcYblZ5+QkQ5nDu8ugGzWntffkiqJpMXb6QpDBkWpRRBIHWSSGPppJ40Q0e6mS9F5Eo78aRNaxx7RSQN0ZbhwZncn8wksxiI4WSG5GiMrhvCq55ApDswkhpmbwdWXsLMSthFBUHWyqtGFDt1H4YfID46J8YfMEsBiY74+Bx6FMIgiEGJZl7DKXYhckpKShhphW5Wo5twgQpuvgsr60N3XESH74mxCpzeIqZFPQxh95/Cqvpw+o8RDZ5RxwNKrKHHORVcqgeDrBGX2Las9cBo9A6a40AUA+qm6YI74kQtyKhYjg5bijt+im0vIdvDlmneB/IM05MLGK5LBzN1eNtlxY2/RgztBAwUazrkGR5+QFsIaOGiAz9ptAGm7EbgdKa+lOYG9GUHBC3oaqxS+VrUSI+bmEEsLSzRthyVe2+G4cFrbGmPoPshDdomuEfy0bEddByP5NJeQLGr5sadMexh+4HK5Vs2wMtr9VKql99o40xV4yvEC636yzgaNeIxcQ7nNi/lGi16f2ie342qwj8otz9caNVfxv9r9u/ZMesvHm8XnLstGekAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="Promise.allSettled" title="Promise.allSettled" src="/static/6ac014fb2b0ce3b89ad7838c7d04512a/fcda8/promise.allsettled.png" srcset="/static/6ac014fb2b0ce3b89ad7838c7d04512a/12f09/promise.allsettled.png 148w,
/static/6ac014fb2b0ce3b89ad7838c7d04512a/e4a3f/promise.allsettled.png 295w,
/static/6ac014fb2b0ce3b89ad7838c7d04512a/fcda8/promise.allsettled.png 590w,
/static/6ac014fb2b0ce3b89ad7838c7d04512a/efc66/promise.allsettled.png 885w,
/static/6ac014fb2b0ce3b89ad7838c7d04512a/c83ae/promise.allsettled.png 1180w,
/static/6ac014fb2b0ce3b89ad7838c7d04512a/cea38/promise.allsettled.png 1644w" sizes="(max-width: 590px) 100vw, 590px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy">
  </a>
    </span><br /></p>
<p><strong>Promise.allSettled()</strong> returns a promise when all inputs are <code class="language-text">settled</code> that is either <code class="language-text">fulfilled</code> or <code class="language-text">rejected</code>.</p>
<h3>👉🏻 Points to remember:</h3>
<ul>
<li>Returns a promise that contains an <strong>array of results</strong>.</li>
<li>Each <strong>result object</strong> will have <strong>two properties</strong> (<strong>status</strong> &#x26; <strong>reason/value</strong>).</li>
<li><strong>status</strong> will be either <strong>fulfilled</strong> or <strong>rejected</strong>.</li>
<li><strong>value</strong> if <strong>fulfilled</strong> or a <strong>reason</strong> if <strong>rejected</strong>.</li>
</ul>
<h4>Difference between <code class="language-text">Promise.all</code> &#x26; <code class="language-text">Promise.allSettled</code></h4>
<ul>
<li><code class="language-text">Promise.all</code> will reject as soon as one of the items in the input is rejected.</li>
<li><code class="language-text">Promise.allSettled</code> will never reject and will wait until all inputs are settled.</li>
</ul>
<p><strong>Use cases</strong>:</p>
<ul>
<li>Make several APIs and wait until all of them are settled 🤔.</li>
</ul>
<p>I am not so sure of many use-cases. But, we want to know how it works right?. In the below example, first, we will see how it works and then will implement it.</p>
<h4>Example:</h4>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> APICall1 <span class="token operator">=</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">"https://reqres.in/api/users?page=1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> APICall2 <span class="token operator">=</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">"https://reqres.in/api/users?page=2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Promise<span class="token punctuation">.</span><span class="token function">allSettled</span><span class="token punctuation">(</span><span class="token punctuation">[</span>APICall1<span class="token punctuation">,</span> APICall2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">results</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  results<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Result is below</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Log:</span>
<span class="token comment">// {status: "fulfilled", value: Response}</span>
<span class="token comment">// {status: "fulfilled", value: Response}</span></code></pre></div>
<p>Below is a simplified version of <strong>TC39 specs</strong> to understand its implementation details.</p>
<p><a href="https://tc39.es/proposal-promise-allSettled/#sec-performpromiseallsettled">Promise.allSettled()</a> specification says</p>
<ol>
<li>Accepts <code class="language-text">iterable</code> object as an argument.</li>
<li>If <code class="language-text">not iterable</code>, <code class="language-text">throw</code> an <code class="language-text">exception</code> with an error message.</li>
<li>Iterate the argument if it is <code class="language-text">iterable</code>.</li>
<li>Keep the <code class="language-text">results</code> in an array.</li>
<li>Wait for all promises to either get <code class="language-text">resolved</code>/<code class="language-text">rejected</code>.</li>
<li>Return the <code class="language-text">results</code>.</li>
</ol>
<p>First, we will write a function to find out if the passed value is <code class="language-text">iterable</code> or not.</p>
<p>We can use [Symbol.iterator] to find it out. Read more about <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols">the iterable</a> here.</p>
<h4>Code:</h4>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">isIterable</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// If no argument is passed or === null</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">||</span> value <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token keyword">typeof</span> value<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">"function"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">isIterable</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">isIterable</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">isIterable</span><span class="token punctuation">(</span>nul<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token function">isIterable</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token function">isIterable</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token comment">// String, Array, TypedArray, Map &amp; Set are all built-in iterables</span></code></pre></div>
<p>Next step is to wrap our iteration (forEach) with <code class="language-text">new Promise()</code> object. So that when all our inputs are settled, we can return the results with <strong>status</strong> and <strong>value/reasons</strong>.</p>
<p>Implementation is quite similar to <a href="https://www.how-it-works.dev/posts/promise.all">Promise.all()</a> with a few changes.</p>
<h4>Code:</h4>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// Our custom all settled function</span>
<span class="token keyword">function</span> <span class="token function">isAllPromiseSettled</span><span class="token punctuation">(</span><span class="token parameter">promises</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// To store our results</span>
  <span class="token keyword">var</span> results <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span>promises<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// To keep track of how many promises resolved</span>
  <span class="token keyword">var</span> counter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token comment">// If not iterable throw an error</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isIterable</span><span class="token punctuation">(</span>promises<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">typeof</span> promises<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is not iterable</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Wrapping our iteration with Promise object</span>
  <span class="token comment">// So that we can resolve and return the results on done.</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// Iterate the inputs</span>
    promises<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">promise<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token comment">// Wait for each promise to resolve</span>
      <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>promise<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          counter<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// Increment counter</span>

          <span class="token comment">// Store status and result in same order</span>
          results<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> status<span class="token operator">:</span> <span class="token string">"fulfilled"</span><span class="token punctuation">,</span> value<span class="token operator">:</span> result <span class="token punctuation">}</span><span class="token punctuation">;</span>

          <span class="token comment">// If all inputs are settled, return the results</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>counter <span class="token operator">===</span> promises<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          counter<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// Increment counter</span>

          <span class="token comment">// Store status and reason for rejection in same order</span>
          results<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> status<span class="token operator">:</span> <span class="token string">"rejected"</span><span class="token punctuation">,</span> reason<span class="token operator">:</span> err <span class="token punctuation">}</span><span class="token punctuation">;</span>

          <span class="token comment">// If all inputs are settled, return the results</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>counter <span class="token operator">===</span> promises<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<h3>Demo:</h3>
<iframe
 src="https://codesandbox.io/embed/funny-poitras-n174r?autoresize=1&fontsize=14&hidenavigation=1&module=%2Findex.js&theme=dark"
 style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;"
 title="Promise.allSettled"
 allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb"
 sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"
 ></iframe>
<h3>Conclusion</h3>
<p>Yep, we did it. We learned what is <code class="language-text">Promise.allSettled()</code> and implemented it. If you want to use it today, the browser support is pretty much available in all modern browsers.</p>
<p>The browser implementation might be different than ours. Nevertheless, you get the idea, right?</p>
<p>Thanks for reading till the end 😬. My next post is about <code class="language-text">Event Emitters</code> (Pub/Sub). If you are not subscribed, subscribe below. See you next Tuesday ;)</p>
<hr />
<h4>References</h4>
<ul>
<li><a href="https://tc39.es/proposal-promise-allSettled/#sec-promise.allsettled">TC39 specs</a> for promise.allSettled.</li>
<li><a href="https://github.com/domenic/promises-unwrapping/blob/master/docs/states-and-fates.md">States and Fates</a> of promises</li>
</ul></div><hr/><ul class="tags">Tags:<!-- --> <li><a class="issues__preview-back" href="/posts/promise.allSettled/tags/javascript">javascript</a><a class="issues__preview-back" href="/posts/promise.allSettled/tags/promises">promises</a><a class="issues__preview-back" href="/posts/promise.allSettled/tags/es-6">es6</a></li></ul><div class="Subscription__container"><h4>Know more from your inbox (Tuesday)</h4><p>I promise there won&#x27;t be any spamming!</p><div class="Subscription__content"><form action="https://buttondown.email/api/emails/embed-subscribe/gokulkrishh" method="post" target="popupwindow" class="embeddable-buttondown-form" autoComplete="on"><input type="email" id="bd-email" class="email-address" placeholder="Email address" required="" name="email"/><input type="hidden" value="1" name="embed"/><input type="submit" class="submit-btn" id="mc-embedded-subscribe" value="Subscribe"/></form></div><p class="Subscription__confirmation">Thanks for subscribing! Your subscription is confirmed.</p></div><div id="disqus_thread"></div></div></div></main></div><footer><div class="footer__content"><p>© <!-- -->2021<!-- -->, Built with <!-- --> <a href="https://www.gatsbyjs.org">Gatsby</a></p></div></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-158930416-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/promise.allSettled";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-5204fa10d5950c3006a4.js"],"app":["/app-686bd6d163b6f77d2d30.js"],"component---src-pages-404-js":["/component---src-pages-404-js-4f51c2bb7115200ee110.js"],"component---src-pages-index-js":["/component---src-pages-index-js-984fa96200e4d18656ca.js"],"component---src-pages-posts-js":["/component---src-pages-posts-js-a3444394d3e1ff7864cc.js"],"component---src-pages-tags-js":["/component---src-pages-tags-js-dc2f9956030b36b73e03.js"],"component---src-templates-issue-template-js":["/component---src-templates-issue-template-js-28330482fef030608c15.js"],"component---src-templates-tag-template-js":["/component---src-templates-tag-template-js-0c2c143695e796bb90d4.js"]};/*]]>*/</script><script src="/polyfill-5204fa10d5950c3006a4.js" nomodule=""></script><script src="/component---src-templates-issue-template-js-28330482fef030608c15.js" async=""></script><script src="/1d724e0a7406e22234be5975e00af039405af158-c232187f10512c6e1717.js" async=""></script><script src="/commons-4efa53057ce3c57301d6.js" async=""></script><script src="/styles-407fe62976dc5310c43e.js" async=""></script><script src="/app-686bd6d163b6f77d2d30.js" async=""></script><script src="/framework-1bcdbcdd30f43763a25c.js" async=""></script><script src="/webpack-runtime-faf1af34c5cb787f9801.js" async=""></script></body></html>