<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.1d790e02c26179e95350.css">pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#282a36}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#6272a4}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#ff79c6}.token.boolean,.token.number{color:#bd93f9}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#50fa7b}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#f1fa8c}.token.keyword{color:#8be9fd}.token.important,.token.regex{color:#ffb86c}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.gatsby-highlight.has-highlighted-lines{background-color:#1b1b1b;border-radius:.3em;margin:1em 0;padding:.8em .1em;overflow:auto}.gatsby-highlight.has-highlighted-lines pre[class*=language-]{background-color:transparent;margin:0;padding:0;overflow:initial;float:left;min-width:100%}.gatsby-highlight.has-highlighted-lines .gatsby-highlight-code-line{background-color:#070707;display:block;margin-right:-2px;margin-left:-3em;padding-left:2.7em;border-left:.25em solid #f99}.gatsby-highlight.has-highlighted-lines .gatsby-highlight-code-line:empty{padding-bottom:20px}*{box-sizing:border-box}html{-webkit-tap-highlight-color:rgba(0,0,0,0);text-rendering:optimizelegibility}a,button,h1,h2,h3,h4,h5,h6,html,input,label,li,p,textarea{-webkit-font-smoothing:antialiased}@font-face{font-family:Dank Mono;font-weight:400;font-style:normal;src:url(/static/dm-58f8551f4cf4476d98c50c031538746b.woff) format("woff");font-display:swap}/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}.gatsby-highlight{position:relative;font-variant-ligatures:none}.gatsby-highlight .line-numbers{padding-left:50px!important;padding-bottom:0!important;padding-top:0!important}.gatsby-highlight .line-numbers-rows{padding-left:10px!important}.gatsby-highlight:before{font-size:.75rem;font-family:Menlo,Monaco,Consolas,monospace;letter-spacing:.075em;line-height:1;position:absolute;right:1rem;text-align:right;text-transform:uppercase;top:0;border-radius:0 0 4px 4px;padding:.25rem .5rem;content:attr(data-language);display:inline-block;font-weight:700;background-color:#fff;color:#1b1b1b}[data-language=js]:before{background-color:#ffeb3b;color:#000;z-index:1}.language-text{background:#dcdcdc!important;color:inherit!important;font-weight:600!important;font-family:inherit!important;padding:0 6px!important;display:inline-block;border-radius:3px!important;text-shadow:none!important;font-size:16px!important}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#a7b9f1}code[class*=language-],pre[class*=language-]{font-family:Dank Mono,Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace}:not(pre)>code[class*=language-],pre[class*=language-]{background:#1b1b1b}body.dark-mode .language-text{background-color:#000!important;color:#cfd2d6!important}body{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;color:#323279;background-color:#fff;line-height:32px;font-size:17px;font-weight:400}a{color:#1c56ff;cursor:pointer;text-decoration:none;transition:all .18s cubic-bezier(.55,.025,.455,.98);border-bottom:1px solid;font-weight:500}h2{margin-top:5px;font-size:25px}h3{font-size:21px}h4{font-size:19px;margin-bottom:0}h5{font-size:17px;margin-bottom:10px}b,h3>a{font-weight:600}p{margin-top:10px;margin-bottom:5px}ol,ul{line-height:35px}.header{height:70px;color:#1c56ff;background-color:#f9ed85}.header .header__content-left h1 a{color:#383737}.header__content{max-width:1024px;margin:0 auto;padding:0 15px}.header__content,.header__menu{display:flex;align-items:center;justify-content:space-between;height:inherit}.header__menu{list-style-type:none;margin:0}.header__menu a,.header__menu li{height:inherit;display:flex;align-items:center}.header__menu a{color:#383737;transition:all .2s ease;border-bottom:3px solid transparent;font-weight:500}li .header__menu--active{color:#1c56ff;border-color:#1c56ff;font-weight:600}.header__content-left,.header__content-right{display:flex;height:inherit;align-items:center}.header h1{font-weight:600;font-size:1.8em;margin:0}.header h1 a{border:none;color:#1c56ff}.header a{text-decoration:none}hr{border:0;border-top:2px dashed #ccc;margin-top:30px}.layout .layout__content{margin-top:10px}.issues__preview-info{text-align:center}.footer__content,.layout__content,.layout__title-content{max-width:1024px;padding:20px 15px;margin:0 auto}.layout__title{height:170px;display:flex;align-items:center;background-color:#1c56ff;margin-top:4px}.layout__title .Subscription{margin-top:-18px}.layout__title-content{width:1024px;display:flex}.layout__title h2{font-size:26px;display:inline-block;color:#000}.layout__footer>h4{margin-bottom:0;margin-top:10px}.counter{border-radius:10px;display:flex;align-items:center;border:2px solid #ccc;height:24px;background-color:#fff;color:#000;text-align:center;font-size:14px;margin-left:10px;margin-top:18px;padding:5px;font-weight:500;max-width:32px}.layout__content{margin:0 auto}.layout__content,main{background-color:#fff}footer{height:45px;background-color:#f9ed85}footer,footer .footer__content{display:flex;align-items:center}footer .footer__content{width:1024px;margin:0 auto;height:inherit;font-weight:500;padding:0 10px}footer .footer__content p{font-weight:500;font-size:16px}.mtop-30{margin-top:30px}@media (min-width:768px) and (max-width:1024px){.footer__content,.header__content,.layout__content,.layout__title-content{max-width:768px}}@media (min-width:620px) and (max-width:767px){.footer__content,.header__content,.layout__content,.layout__title-content{max-width:620px}}@media (min-width:300px) and (max-width:480px){.Subscription{max-width:95%}.layout__content .Subscription input{width:95%}.header h1 a{font-size:23px;width:auto;display:flex}.header__menu{padding-left:20px;width:auto;font-size:16px;display:flex;justify-content:flex-end}}body.dark-mode{color:#cfd2d6;background-color:#2d2d2d}body.dark-mode .toggle-theme{fill:#fff}body.dark-mode .layout__content,body.dark-mode main{color:#cfd2d6;background-color:#2d2d2d}body.dark-mode a{color:#3ca4ff}body.dark-mode .header,body.dark-mode footer{background-color:#272727}body.dark-mode .header .header__content-left h1 a,body.dark-mode .header .header__menu a{color:#fff}body.dark-mode .header li .header__menu--active{border-color:#3ca4ff}.Subscription__container .Subscription__content{width:480px;border-radius:8px;background-color:#d5f5ff;color:#000}.Subscription__container .Subscription__confirmation{margin:5px 0;color:#388e3c;visibility:hidden}.Subscription__container h4{margin-bottom:0;color:#383737}.Subscription__container h4+p{margin-bottom:15px;margin-top:5px}.Subscription__container p{margin-top:0;margin-bottom:-10px;font-size:16px}.Subscription__container form{display:flex;justify-content:center;width:inherit;padding:20px}.Subscription__container input,.Subscription__container input[type=submit]{height:48px;padding:0 10px}.Subscription__container input[type=submit]{color:#fff;background-color:#1c56ff;border:1px solid #1c56ff;border-top-right-radius:6px;border-bottom-right-radius:6px;cursor:pointer;width:110px;height:48px;font-size:17px;text-align:center;margin-left:-30px;font-weight:600}.Subscription__container input[type=submit]:active{opacity:.9}.Subscription__container .email-address{width:80%;border-radius:6px;border:2px solid #ccc;outline:none;font-size:16px;padding-right:35px}.Subscription__container .email-address:focus{border-color:#ccc}.Subscription__container span{display:block;font-weight:400;margin-top:5px;color:#383737}@media (min-width:481px) and (max-width:764px){.Subscription__container .Subscription__content{width:430px}}@media (max-width:480px){.Subscription__container .Subscription__content{width:100%}.Subscription__container form{padding:15px 10px}.Subscription__container input,.Subscription__container input[type=submit]{height:40px;padding:0 10px;font-size:14px}.Subscription__container input[type=submit]{width:87px}}body.dark-mode .Subscription__container h4{color:#fff}body.dark-mode .Subscription__container .Subscription__content{background-color:#dcdcdc}.Javascript__list{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr);grid-column-gap:40px;grid-row-gap:25px;padding-left:0;list-style:none}.Card{padding:5px 15px;height:auto;width:330px;background-color:#efefef;border-radius:6px}.Card time{font-size:14px;color:#404040;font-weight:500}.Card p{line-height:1.8;margin-top:0;font-size:16px}.Card a{font-size:21px;border:0;color:#e91e63!important;font-weight:600;border-bottom:1px solid;opacity:.9}.Card a:hover{opacity:1;border-bottom:1px solid}.dark-mode .Card{background-color:#404040}.dark-mode .Card time{color:#a7b9f1}.dark-mode .Card p{color:#fff}@media (min-width:765px) and (max-width:1024px){.Javascript__list{grid-template-columns:repeat(2,1fr);grid-template-rows:repeat(2,1fr)}.Card{width:100%;min-height:180px;height:auto}}@media (min-width:481px) and (max-width:764px){.Javascript__list{grid-template-columns:repeat(1,1fr);grid-template-rows:repeat(1,1fr)}.Card{width:100%;min-height:150px;height:auto}}@media (max-width:480px){.Javascript__list{grid-template-columns:repeat(1,1fr);grid-template-rows:repeat(1,1fr)}.Card{width:100%;min-height:170px;height:auto}}.Javascript__content h2{margin-bottom:10px}.Javascript__content p{margin-top:0;margin-bottom:30px}.Javascript__subscription{margin-top:200px}.issues__preview-back{margin-bottom:20px;display:inline-block;font-weight:600}.issues .tags{padding:0}.issues .tags a{line-height:normal;margin-bottom:0;margin-top:0}.issues .title{margin-bottom:10px}.issues .gatsby-resp-image-wrapper{margin:20px 0 30px}.issues .demo-iframe{width:100%;height:500px;background-color:#fff;margin:10px 0 90px}.issues .demo-iframe iframe{width:inherit;height:inherit;background-color:#fff}.issues .image__illustration{display:block;margin:0 auto;text-align:center;font-weight:500}.issues .video+h4{margin-top:-20px}.issues .video{margin:40px auto;text-align:center;display:block;width:500px;height:auto}.issues blockquote:not(.twitter-tweet){background:#1b1b1b;border-left:10px solid #cec468;margin:10px 10px 15px;padding:.5em 10px;quotes:"\201C" "\201D" "\2018" "\2019";color:#fff;font-style:italic}.issues blockquote:not(.twitter-tweet):before{color:#cec468;content:open-quote;font-size:3em;line-height:.1em;margin-right:2px;vertical-align:-.4em}.issues blockquote:not(.twitter-tweet) p{display:inline}.twitter-tweet.twitter-tweet-rendered{margin:0 auto}.toggle-theme{width:30px;height:30px;margin-left:20px;cursor:pointer;justify-content:center;-webkit-user-select:none;-ms-user-select:none;user-select:none;-webkit-appearance:none;appearance:none;width:inherit;background-color:transparent;border:none;height:inherit;fill:#000}.Share,.toggle-theme{display:flex;align-items:center}.Share{margin-top:20px;margin-bottom:-10px;justify-content:flex-end}.Share a{margin-left:15px;background-color:#3ca4ff;color:#fff!important;text-decoration:none!important;padding:0 10px;border-radius:2px;height:28px;line-height:28px;font-size:14px;font-weight:700;border:0}.tags li,.tags ul{list-style-type:none;display:inline-block;padding:0;margin-top:0}.tags a{margin-right:8px;padding:5px;border:0;background-color:#efefef;border-radius:6px;color:#e91e63!important;font-size:13px}.tags a:hover{opacity:.8}.tags span{font-size:13px;color:#404040;font-weight:500}.dark-mode .tags a{background-color:#404040}.dark-mode .tags span{color:#a7b9f1}</style><meta name="generator" content="Gatsby 2.25.3"/><title data-react-helmet="true">How it works | Event Loop</title><meta data-react-helmet="true" name="google-site-verification" content="Q2hqQB0hcs5UvQfKBnWt4FSt2hlvT_Pm00oyu6oMgrE"/><meta data-react-helmet="true" name="description" content="Event loop in javascript is a concurrent model which is responsible for executing the code."/><meta data-react-helmet="true" property="og:title" content="Event Loop"/><meta data-react-helmet="true" property="og:description" content="Event loop in javascript is a concurrent model which is responsible for executing the code."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:site" content="@gokul_i"/><meta data-react-helmet="true" name="twitter:title" content="Event Loop"/><meta data-react-helmet="true" name="twitter:description" content="Event loop in javascript is a concurrent model which is responsible for executing the code."/><meta data-react-helmet="true" name="twitter:image" content="https://how-it-works.dev/event-loop/twitter-card.jpg"/><link rel="icon" href="/favicon-32x32.png?v=50096918118cf39d01dab0ee058a8c4d" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=50096918118cf39d01dab0ee058a8c4d"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=50096918118cf39d01dab0ee058a8c4d"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=50096918118cf39d01dab0ee058a8c4d"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=50096918118cf39d01dab0ee058a8c4d"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=50096918118cf39d01dab0ee058a8c4d"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=50096918118cf39d01dab0ee058a8c4d"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=50096918118cf39d01dab0ee058a8c4d"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=50096918118cf39d01dab0ee058a8c4d"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="canonical" href="https://www.how-it-works.dev/posts/event-loop" data-baseprotocol="https:" data-basehost="www.how-it-works.dev"/><link as="script" rel="preload" href="/webpack-runtime-faf1af34c5cb787f9801.js"/><link as="script" rel="preload" href="/framework-1bcdbcdd30f43763a25c.js"/><link as="script" rel="preload" href="/app-686bd6d163b6f77d2d30.js"/><link as="script" rel="preload" href="/styles-407fe62976dc5310c43e.js"/><link as="script" rel="preload" href="/commons-4efa53057ce3c57301d6.js"/><link as="script" rel="preload" href="/1d724e0a7406e22234be5975e00af039405af158-c232187f10512c6e1717.js"/><link as="script" rel="preload" href="/component---src-templates-issue-template-js-28330482fef030608c15.js"/><link as="fetch" rel="preload" href="/page-data/posts/event-loop/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2272393477.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3649515864.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>!function(e,a,o){function d(e){document.body.classList.add(e?"dark-mode":"light-mode"),document.body.classList.remove(e?"light-mode":"dark-mode")}var t=window.matchMedia("(prefers-color-scheme: dark)"),r="(prefers-color-scheme: dark)"===t.media,s=null;try{s=localStorage.getItem("darkMode")}catch(e){}var c=null!==s;if(c&&(s=JSON.parse(s)),c)d(s);else if(r)d(t.matches),localStorage.setItem("darkMode",t.matches);else{var l=document.body.classList.contains("dark-mode");localStorage.setItem("darkMode",JSON.stringify(l))}}();</script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><header class="header"><div class="header__content"><div class="header__content-left"><h1><a href="/">How it works</a></h1></div><div class="header__content-right"><ul class="header__menu"><li><a href="/posts">Posts</a></li></ul><button class="toggle-theme"><svg aria-hidden="true" class="svg-icon" width="24" height="24"><path d="M18.925 4.075c4.1 4.1 4.1 10.75 0 14.85s-10.75 4.1-14.85 0-4.1-10.75 0-14.85 10.75-4.1 14.85 0zM17.51 17.51a8.5 8.5 0 000-12.02L5.49 17.51a8.5 8.5 0 0012.02 0z"></path></svg></button></div></div></header><div class="layout"><main><div class="layout__content"><div class="issues"><div class="issues__preview-info"><h2 class="title">Event Loop</h2><time>April 28, 2020</time></div><div class="line"></div><div class="issues__preview-content"><p>Before we learn about the event loop. I want to talk about javascript first to understand event loop better.</p>
<p>Javascript is <strong>interpreted</strong> programming language meaning the source code is not compiled until the time of execution. But how does a machine understands the non-compiled code? Well, that is taken care of by <strong>javascript engine</strong> which is responsible for <strong>compiling</strong> the javascript code to <strong>machine code</strong>.</p>
<h5>In javascript, there are <strong>blocking</strong> &#x26; <strong>non-blocking</strong> operations:</h5>
<ul>
<li><strong>Blocking</strong> is when the execution of code has to wait until the execution of an operation is completed (<strong>synchronous</strong>).</li>
<li><strong>Non-blocking</strong> when execution happens <strong>asynchronously</strong> and doesn't not have to wait for some other operation to complete.</li>
<li><strong>I/O operations</strong> such as <strong>HTTP requests</strong>, <strong>disk read/write</strong> are <strong>non-blocking</strong> in javascript.</li>
</ul>
<h4>üëâüèª Points to remember:</h4>
<ul>
<li>Each browser has a javascript <strong>runtime environment</strong>.</li>
<li><strong>Javascript engine</strong> &#x26; <strong>Event loop</strong> is a part of javascript <strong>runtime environment</strong>.</li>
<li><strong>Javascript engine</strong> is <a href="https://en.wikipedia.org/wiki/Thread_(computing)#Single_threading">single-threaded</a> and it can <strong>execute one piece of code at a time</strong>.</li>
<li><strong>Event loop</strong> is a <strong>concurrent model</strong> responsible for executing the <strong>javascript code</strong>.</li>
</ul>
<h4>Illustration:</h4>
<p style="margin: 0 auto;">
 <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; ">
      <span class="gatsby-resp-image-background-image" style="padding-bottom: 80.4054054054054%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsSAAALEgHS3X78AAADbklEQVQoz02T7U9TdxTHz73IwpPJ6mZRdJkhe2uyFyYCS3xJ4hIXAqvpXvgPsPCi7g1rbLKUpFSELlHDIlrKQyjbAtpH+3QBS+wqrkgRykorfb6XtveWdghSSh92ri7qycnJefH75Ps9J+cHCoVCp9NNT093dHS0t7d//zZEIpFYLO7q6sLmKgZWkegHsfjby5e/u3Lld6320eysXC6Hqampcrmcz+e7u7s7Ozt7e3ulUqlEIpHJZD09PT9dv/6zVPqLQiFXKpVDQ+Jr136USIoVPkY1GpiYmGAYZmVlxefzuVwup9O5sLCwtbUVexeJxObLl7bBQVN/v/3u3Sdq9V+jo5RK5Varh+/cgcnJyWw26/f7l5eXPR7P+vp6IBDgOC6X29nh0q8P32w/f/aors4A8PT0aXdzs+348VkAh1A4rFTC+Ph4KpWKRqPptxGPxzOZDMIsm+XS2Ribo6knyfqGNwAHBHEEUCGIMtbGxgc3b/LwxsbG6uoqAmhzbW0tFAphT9Ov6LgvkgzGKUOovj4KkCTJPZKskGQRYaGQhzUaTTgcxoFRM8FHnKbTu7vhXO7rV4GmBPdVyXc2VE+keE1AzTJBlD6GcT0oiDDLssnkNsPgwP7DgpBlYSdPlP6BaAMRAyJcRURIIkYSQYC9U0L1Oxh9IkzTNOoyTCIaYf7dDXBsMx2pTWY+PXxRwzUAKqcIvm4fq+aAqJw8+QHGJaM+mt/c9G+FEhnW6w02DT4ElaH6/sNP5m6ftQ81WYdOmZSCPxXn7slA2/fNr6rb/9v2er24JDyVvb3XBf4IkmP0GZitqtLVkFTt595zJ7xfCla+qPu7sfbpCVgCwfpnN4ZlMDY2hsqoub+/jxBeW7FSqhxUfsvKIQE16Woyi46BSAIwAGmo2ibhAAQVgWz0Bq+MF2Y2m3HsYrGIlc2w6Qg7lfjjPHO+Ndp6MX6xJdbSGmttC7W10C1t4bYLkQuXypf6HvTBwMDA/Pw8foyRkZGZmRm1Wm0wGOx2u2POZp2zPnY8tlAWbEx2E582k9FmxLTarYp+BSCAblETK54abg6bYCC49HzJ5XYFggH3M7fnhadQLByVjvgsHuULeXyjndaCSqVaXFx0OBwUReGXMBqNaMRisej1ep1BZ7aa9UY9JjVHvU8H5XAuOm8N3voPx31g11jPDjQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="Javascript runtime environment" title="Javascript runtime environment" src="/static/76d5a5bca2c321564bc60ed62b24f141/fcda8/js-runtime.png" srcset="/static/76d5a5bca2c321564bc60ed62b24f141/12f09/js-runtime.png 148w,
/static/76d5a5bca2c321564bc60ed62b24f141/e4a3f/js-runtime.png 295w,
/static/76d5a5bca2c321564bc60ed62b24f141/fcda8/js-runtime.png 590w,
/static/76d5a5bca2c321564bc60ed62b24f141/8c557/js-runtime.png 700w" sizes="(max-width: 590px) 100vw, 590px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy">
    </span>
 <i class="image__illustration"><a href="https://medium.com/@olinations/the-javascript-runtime-environment-d58fa2e60dd0" target="_blank">Source: Medium</a></i>
</p>
<h4>Javascript runtime consists of:</h4>
<ul>
<li><strong>Call stack</strong> - Execute the code one at a time.</li>
<li><strong>Event loop</strong> - Check if the call stack is empty if so pull the callback from the queue and add it to stack.</li>
<li><strong>Callback queue</strong> - Callbacks are pushed into the callback queue.</li>
<li><strong>Web API's</strong> - Talk to the browser via javascript.</li>
</ul>
<p><strong>Illustration of javascript runtime</strong>:</p>
<span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; ">
      <span class="gatsby-resp-image-background-image" style="padding-bottom: 95.94594594594595%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsSAAALEgHS3X78AAAA+0lEQVQ4y7VT7Y7CIBDs+7+Qb9J45gwxptdTiJbCUhWWlfXj0tba9JI62fADGHbZ2cmsMRxP1HVdVZWdAGNMBgDUgvdeKUUTkIizkGPkeEe+n94uzJ7ZAYGh4H0IA+R0qo98YYCMGDZrXC+jPnqMSslOwUS4L1GscFe0N+cqe5z8yYaNS/WOnAatl1lK+Y/MBsAqZYXgeU3DrbWdhizpxO/kOS0WsSyC+MLvPMrfP0lGkD0slZxUljaVAO62wsNtXc/1XdX783R0u32v/yksFhueqq3Any2F8Ep2zvV1br1sSB/IaI6hz3Pm1F03iNPJXS7ufOZ4QdM0iXgFhnpZ/LW72XYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="Javascript runtime illustration" title="Javascript runtime illustration" src="/static/e941128e735a22c5aa2db41453bd9322/fcda8/event-loop.png" srcset="/static/e941128e735a22c5aa2db41453bd9322/12f09/event-loop.png 148w,
/static/e941128e735a22c5aa2db41453bd9322/e4a3f/event-loop.png 295w,
/static/e941128e735a22c5aa2db41453bd9322/fcda8/event-loop.png 590w,
/static/e941128e735a22c5aa2db41453bd9322/efc66/event-loop.png 885w,
/static/e941128e735a22c5aa2db41453bd9322/c83ae/event-loop.png 1180w,
/static/e941128e735a22c5aa2db41453bd9322/cb425/event-loop.png 1678w" sizes="(max-width: 590px) 100vw, 590px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy">
    </span>
<i class="image__illustration">(Illustration of js runtime)</i>
<h3>Call Stack:</h3>
<p>Call stack in javascript can do <strong>one only thing at time</strong>. Call stack is simple <strong>stack</strong> (<strong>LIFO</strong>) based <strong>data structure</strong> which executes by pushing code on <strong>top of the stack</strong> and <strong>popping it off</strong> from the top once execution is done.</p>
<p><strong>Example</strong>:</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="js"><pre style="counter-reset: linenumber 0" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"foo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="gatsby-highlight-code-line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"baz"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">}</span>

<span class="gatsby-highlight-code-line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"outside"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="gatsby-highlight-code-line"><span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p><strong>Output</strong>:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// 1. print outside</span>
<span class="token comment">// 2. print foo</span>
<span class="token comment">// 3. print baz</span></code></pre></div>
<h4>Demo:</h4>
<div class="demo-iframe">
<i style="color: #000;display: block;">Close the modal dialogue and click save + run button</i>
<iframe src="https://latentflip.com/loupe/?code=ZnVuY3Rpb24gZm9vKCkgewogIGNvbnNvbGUubG9nKCJmb28iKTsKfQoKZnVuY3Rpb24gYmF6KCkgewogIGZvbygpOwoKICBjb25zb2xlLmxvZygiYmF6Iik7Cn0KCmNvbnNvbGUubG9nKCJvdXRzaWRlIik7CgpiYXooKTs%3D!!!PGJ1dHRvbj5DbGljayBtZSE8L2J1dHRvbj4%3D">
</iframe>
<a target="_blank" href="https://latentflip.com/loupe/?code=ZnVuY3Rpb24gZm9vKCkgewogIGNvbnNvbGUubG9nKCJmb28iKTsKfQoKZnVuY3Rpb24gYmF6KCkgewogIGZvbygpOwoKICBjb25zb2xlLmxvZygiYmF6Iik7Cn0KCmNvbnNvbGUubG9nKCJvdXRzaWRlIik7CgpiYXooKTs%3D!!!PGJ1dHRvbj5DbGljayBtZSE8L2J1dHRvbj4%3D"><i class="image__illustration">(Call stack demo)</i></a>
</div>
<p><strong>Explanation of code execution:</strong></p>
<ol>
<li>Add <code class="language-text">console.log(&#39;outside&#39;)</code> to <strong>top</strong> of the stack and <strong>execute</strong> and <strong>pop it off</strong>.</li>
<li>Add <code class="language-text">baz()</code> function call to <strong>top</strong> of the stack and <strong>execute</strong> it.</li>
<li>Add <code class="language-text">foo()</code> function call to <strong>top</strong> of the stack and <strong>execute</strong> it.</li>
<li>Add <code class="language-text">console.log(&quot;foo&quot;)</code> to <strong>top</strong> of the stack and <strong>execute</strong> it and <strong>pop it off</strong>.</li>
<li>Then <strong>pop</strong> <code class="language-text">foo()</code> function from the stack.</li>
<li>Add <code class="language-text">console.log(&quot;baz&quot;)</code> to <strong>top</strong> of the stack and <strong>execute</strong> and <strong>pop it off</strong>.</li>
<li>Then <strong>pop</strong> <code class="language-text">baz()</code> function from the stack.</li>
</ol>
<h3>Event loop:</h3>
<p>The event loop's job is quite simple, <strong>constantly check if the call stack is empty or not</strong>. If empty then <strong>pull the callback</strong> from the callback queue and <strong>put it</strong> on <strong>top the stack</strong> for execution.</p>
<h3>Callback queue:</h3>
<p>Callback queue is a simple <strong>queue-based</strong> data structure (<strong>FIFO</strong>). This is where all <strong>asynchronous code</strong> is pushed to. From here event loop will take over and push the <strong>queued callbacks</strong> to <strong>call stack</strong>.</p>
<p>Callback queue is the reason that I/O events are non-blocking.</p>
<h3>Web API's:</h3>
<p>Web API's also known as <strong>Browser Object Model</strong> (BOM) is the API's that allows javascript <strong>to talk</strong> to <strong>web browsers</strong>.</p>
<p><strong>Some web API's</strong>:</p>
<ul>
<li>Window object</li>
<li>Window location</li>
<li>Navigator (information about user's browser)</li>
<li>Cookies</li>
<li>Timing Events such as setTimeout, setInterval, etc,</li>
</ul>
<p>Let us see an example of how web API works in the event loop. If you are a javascript developer I am sure you would have used setTimeout or setInterval.
So let's take that as an example.</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="js"><pre style="counter-reset: linenumber 0" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"foo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">}</span>

<span class="gatsby-highlight-code-line"><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h4>Demo:</h4>
<div class="demo-iframe">
<i style="color: #000;display: block;">Close the modal dialogue and click save + run button</i>
<iframe src="https://latentflip.com/loupe/?code=ZnVuY3Rpb24gZm9vKCkgewogIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICBjb25zb2xlLmxvZygiZm9vIik7CiAgfSwgMjAwMCk7Cn0KCmZvbygpOw%3D%3D!!!PGJ1dHRvbj5DbGljayBtZSE8L2J1dHRvbj4%3D">
</iframe>
<a target="_blank" href="https://latentflip.com/loupe/?code=ZnVuY3Rpb24gZm9vKCkgewogIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICBjb25zb2xlLmxvZygiZm9vIik7CiAgfSwgMjAwMCk7Cn0KCmZvbygpOw%3D%3D!!!PGJ1dHRvbj5DbGljayBtZSE8L2J1dHRvbj4%3D"><i class="image__illustration">(setTimeout demo)</i></a>
</div>
<p><strong>Explanation of code execution:</strong></p>
<ol>
<li>Add <code class="language-text">foo()</code> to <strong>top</strong> of the stack and <strong>execute</strong> it.</li>
<li>Add <code class="language-text">setTimeout()</code> with callback to <strong>top</strong> of the stack and <strong>execute</strong> it and pop it off.</li>
<li><code class="language-text">Timer</code> will be keeping track and executed inside the browser.</li>
<li>Add setTimeout <code class="language-text">callback</code> to <strong>callback queue</strong>.</li>
<li><strong>Event loop</strong> will pull the timer <code class="language-text">callback</code> from <strong>queue</strong> and add to the <code class="language-text">top of stack</code>.</li>
<li>Add <code class="language-text">console.log()</code> to stack and <strong>execute it</strong> and <strong>pop it off</strong>.</li>
<li>Finally pop function <code class="language-text">foo()</code> from the stack.</li>
</ol>
<h3>Final note</h3>
<p>I hope in this post you have learned a little bit more about javascript and its runtime. The examples I showed are more of an abstract idea of the event loop and browser vendors would have implemented the event loop with a lot of optimizations but you get the idea right how it works. For the sake of this post I have skipped writing about <strong>micro tasks</strong> in event loop. For more <a href="https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/">read here</a>.</p>
<p>I want to thank <a href="https://twitter.com/philip_roberts">Philip Roberts</a> for creating <a href="http://latentflip.com/loupe">loupe</a> an awesome tool to visualize how event loops work.</p>
<p>Thanks for reading it so far. See ya in the next post.</p>
<h4>References:</h4>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop">MDN EventLoop</a></li>
<li><a href="https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/">Tasks, microtasks, queues and schedules</a></li>
<li><a href="https://www.youtube.com/watch?v=8aGhZQkoFbQ">What the heck is event loop?</a></li>
</ul></div><hr/><ul class="tags">Tags:<!-- --> <li><a class="issues__preview-back" href="/posts/event-loop/tags/javascript">javascript</a><a class="issues__preview-back" href="/posts/event-loop/tags/event-loop">event loop</a></li></ul><div class="Subscription__container"><h4>Know more from your inbox (Tuesday)</h4><p>I promise there won&#x27;t be any spamming!</p><div class="Subscription__content"><form action="https://buttondown.email/api/emails/embed-subscribe/gokulkrishh" method="post" target="popupwindow" class="embeddable-buttondown-form" autoComplete="on"><input type="email" id="bd-email" class="email-address" placeholder="Email address" required="" name="email"/><input type="hidden" value="1" name="embed"/><input type="submit" class="submit-btn" id="mc-embedded-subscribe" value="Subscribe"/></form></div><p class="Subscription__confirmation">Thanks for subscribing! Your subscription is confirmed.</p></div><div id="disqus_thread"></div></div></div></main></div><footer><div class="footer__content"><p>¬© <!-- -->2021<!-- -->, Built with <!-- --> <a href="https://www.gatsbyjs.org">Gatsby</a></p></div></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-158930416-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/event-loop";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-5204fa10d5950c3006a4.js"],"app":["/app-686bd6d163b6f77d2d30.js"],"component---src-pages-404-js":["/component---src-pages-404-js-4f51c2bb7115200ee110.js"],"component---src-pages-index-js":["/component---src-pages-index-js-984fa96200e4d18656ca.js"],"component---src-pages-posts-js":["/component---src-pages-posts-js-a3444394d3e1ff7864cc.js"],"component---src-pages-tags-js":["/component---src-pages-tags-js-dc2f9956030b36b73e03.js"],"component---src-templates-issue-template-js":["/component---src-templates-issue-template-js-28330482fef030608c15.js"],"component---src-templates-tag-template-js":["/component---src-templates-tag-template-js-0c2c143695e796bb90d4.js"]};/*]]>*/</script><script src="/polyfill-5204fa10d5950c3006a4.js" nomodule=""></script><script src="/component---src-templates-issue-template-js-28330482fef030608c15.js" async=""></script><script src="/1d724e0a7406e22234be5975e00af039405af158-c232187f10512c6e1717.js" async=""></script><script src="/commons-4efa53057ce3c57301d6.js" async=""></script><script src="/styles-407fe62976dc5310c43e.js" async=""></script><script src="/app-686bd6d163b6f77d2d30.js" async=""></script><script src="/framework-1bcdbcdd30f43763a25c.js" async=""></script><script src="/webpack-runtime-faf1af34c5cb787f9801.js" async=""></script></body></html>